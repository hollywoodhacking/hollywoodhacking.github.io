define("system/AbstractView",["require","exports"],function(e,t){var n=function(){function e(e){this.$el=$(e),this.delegateEvents()}return e.prototype.render=function(){return this.$el},e.prototype.remove=function(){this.$el.remove()},e.prototype.$=function(e){return this.$el.find(e)},e.prototype.update=function(e){},e.prototype.delegateEvents=function(){var e=/^(\S+)\s*(.*)$/;for(var t in this.events){var n=_(this[this.events[t]]).bind(this);if(!n)continue;var r=t.match(e),i=r[1],s=r[2];s===""?this.$el.on(i,n):this.$el.on(i,s,n)}},e.prototype.empty=function(){this.$el.empty()},e}();return n});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("AppView",["require","exports","system/AbstractView"],function(e,t,n){var r=function(e){function t(t){e.call(this,t),this.$("#splash .close").click(this.toggleSplash),this.$("#fullscreen_prompt .dismiss").click(this.hideFullscreenPrompt),document.addEventListener("fullscreenchange",this.hideFullscreenPrompt,!1),document.addEventListener("fullscreen",this.hideFullscreenPrompt,!1),document.addEventListener("mozfullscreenchange",this.hideFullscreenPrompt,!1),window.addEventListener("webkitfullscreenchange",this.hideFullscreenPrompt,!1),document.addEventListener("msfullscreenchange",this.hideFullscreenPrompt,!1)}return __extends(t,e),t.prototype.attachMainView=function(e){var t=e.render();typeof this.mainView!="undefined"&&this.mainView.remove(),this.mainView=e,this.$("#stage").append(t)},t.prototype.toggleSplash=function(){$("#splashHolder").toggle()},t.prototype.hideFullscreenPrompt=function(){$("#fullscreen_prompt").hide()},t}(n);return r}),define("Editor/EditorPresenter",["require","exports"],function(e,t){var n=function(){function e(e){this.typer=e}return e.prototype.setText=function(e){this.typer.setText(e)},e.prototype.update=function(e){switch(e){case 8:this.typer.backspace();break;case 9:this.typer.typeFullWord();break;case 13:this.typer.typeFullLine();case 16:case 17:case 18:break;default:this.typer.typeSingleLetter()}this.updateView()},e.prototype.attachView=function(e){this.editorView=e},e.prototype.updateView=function(){var e=this.typer.getText();this.editorView.update(e)},e}();return n});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("Editor/EditorView",["require","exports","system/AbstractView"],function(e,t,n){var r=function(e){function t(t,n){e.call(this,t),this.events={click:"clickHandle"},this.type=n}return __extends(t,e),t.prototype.render=function(){var t=e.prototype.render.call(this);return this.codeMirror=CodeMirror(this.$(".viewport")[0],{mode:this.type,lineNumbers:!0}),this.codeMirror.focus(),t},t.prototype.update=function(e){this.codeMirror.setValue(e),this.codeMirror.setCursor({line:e.length,ch:e.length}),this.updateStatusBar()},t.prototype.updateStatusBar=function(){var e=this.codeMirror.getCursor();this.$(".statusbar").html("Line "+(e.line+1)+", Column "+e.ch)},t.prototype.clickHandle=function(){alert("yo!")},t}(n);return r}),define("Editor/Editor.html",["require","exports"],function(e,t){function n(){return'<div class="panel">    <div class="viewport"></div>    <div class="footer">        <span class="statusbar">Loading Content...</span>    </div></div>'}t.get=n}),define("Editor/Typer",["require","exports"],function(e,t){var n=function(){function e(){this.typedText="",this.fullText="",this.index=0}return e.prototype.setText=function(e){this.typedText="",this.fullText=e,this.index=0},e.prototype.typeSingleLetter=function(){this.notAtEndOfWord()&&(this.typedText+=this.getNextCharacter(),this.index++,this.getCurrentCharacter()==="	"&&this.typeSingleLetter())},e.prototype.typeFullWord=function(){if(this.notAtEndOfWord())do this.typeSingleLetter();while(!/[\s\t\b\n\r\.,:\(\)\{\}]/.test(this.getNextCharacter())&&this.notAtEndOfWord())},e.prototype.typeFullLine=function(){if(this.notAtEndOfWord())do this.typeSingleLetter();while(!/\n/.test(this.getCurrentCharacter())&&this.notAtEndOfWord())},e.prototype.backspace=function(){this.index>0&&(this.index--,this.typedText=this.typedText.substring(0,this.index))},e.prototype.getText=function(){return this.typedText},e.prototype.notAtEndOfWord=function(){return this.typedText.length<this.fullText.length},e.prototype.getNextCharacter=function(){return this.fullText.charAt(this.index)},e.prototype.getCurrentCharacter=function(){return this.typedText.charAt(this.index-1)},e}();return n}),define("Editor/EditorFactory",["require","exports","Editor/EditorPresenter","Editor/EditorView","Editor/Editor.html","Editor/Typer"],function(e,t,n,r,i,s){var o=function(){function e(){}return e.create=function(){return typeof e.instance=="undefined"&&(e.instance=new e),e.instance},e.prototype.createEditorView=function(e){var t=i.get();return new r(t,e)},e.prototype.createEditorPresenter=function(){var e=new s;return new n(e)},e}();return o}),define("system/AbstractEventType",["require","exports"],function(e,t){var n=function(){function e(){this.eventHash={}}return e.prototype.addListener=function(e,t,n){this.eventStored(e)||(this.eventHash[e]=new Array),this.eventHash[e].push({listener:t,context:n||null})},e.prototype.removeListener=function(e,t){this.eventStored(e)&&_(this.eventHash[e]).forEach(function(e){t===e.listener&&(e.listener=function(){},e.context=null)})},e.prototype.trigger=function(e){var t=[];for(var n=0;n<arguments.length-1;n++)t[n]=arguments[n+1];this.eventStored(e)&&_(this.eventHash[e]).forEach(function(e){e.listener.apply(e.context,t)})},e.prototype.removeAllListeners=function(){this.eventHash={}},e.prototype.eventStored=function(e){return typeof this.eventHash[e]!="undefined"},e}();return n});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("system/Loader",["require","exports","system/AbstractEventType"],function(e,t,n){var r=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.load=function(e){$.get(e,_(this.dispatchLoad).bind(this))},t.prototype.dispatchLoad=function(e){this.trigger("load",e)},t}(n);return r}),define("system/Utils/ArrayHelpers",["require","exports"],function(e,t){var n=function(){function e(){}return e.getRandomItem=function(e){var t=Math.round(Math.random()*(e.length-1));return e[t]},e}();return n}),define("Editor/EditorBuilder",["require","exports","Editor/EditorFactory","../system/Loader","system/Utils/ArrayHelpers"],function(e,t,n,r,i){var s=function(){function e(){this.editorFactory=n.create()}return e.create=function(){return typeof e.instance=="undefined"&&(e.instance=new e),e.instance},e.prototype.build=function(){var e=this.getRandomEditor(),t=this.editorFactory.createEditorView(e.type);return this.editorPresenter=this.editorFactory.createEditorPresenter(),this.editorPresenter.attachView(t),this.loadEditor(e.path),{presenter:this.editorPresenter,view:t}},e.prototype.getRandomEditor=function(){var e=[{path:"static/js.txt",type:"javascript"},{path:"static/kernel.txt",type:"text/x-csrc"},{path:"static/eve.py.txt",type:"text/x-python"},{path:"static/Optimizer.hs.txt",type:"text/x-haskell"},{path:"script/app/App.ts",type:"text/x-csharp"},{path:"static/java.txt",type:"text/x-java"},{path:"static/bb.sh.txt",type:"text/x-sh"}],t=i.getRandomItem(e);return t},e.prototype.loadEditor=function(e){var t=this,n=new r;n.addListener("load",function(e){t.editorPresenter.setText(e)}),n.load(e)},e}();return s}),define("Terminal/TerminalPresenter",["require","exports"],function(e,t){var n=function(){function e(e){this.MAX_DELAY=1e3,this.mode="lines",this.terminalOutput=e}return e.prototype.start=function(){this.view.empty(),this.autoUpdate()},e.prototype.autoUpdate=function(){var e=this,t=this.terminalOutput.getText();clearTimeout(this.timeout),t==="%STOP"?(this.mode="input",this.view.startInput()):t==="%START"?(this.mode="lines",this.view.stopInput()):this.view.update(t),this.mode==="lines"&&(this.timeout=setTimeout(function(){e.autoUpdate()},this.getRandomDelay()))},e.prototype.getRandomDelay=function(){return Math.floor(Math.random()*this.MAX_DELAY)},e.prototype.attachView=function(e){this.view=e},e.prototype.update=function(e){this.autoUpdate()},e}();return n});var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r};define("Terminal/TerminalView",["require","exports","system/AbstractView"],function(e,t,n){var r=function(e){function t(t){e.call(this,t),this.CURSOR_HIDE_TIME=1150,this.CURSOR_SHOW_TIME=600,this.cursorFlash=!1}return __extends(t,e),t.prototype.startInput=function(){this.update(this.getPrompt()),this.startCursor()},t.prototype.getPrompt=function(){var e='<span class="bracket">[</span>';return e+=this.getTime(),e+='<span class="bracket">]</span>',e+='<span class="name">zerocool</span><span class="at">@</span>',e+='<span class="host">localhost</span>',e+=' <span class="chevron">></span> ',e},t.prototype.getTime=function(){var e=new Date,t=e.getHours(),n=e.getMinutes();return t+":"+n},t.prototype.startCursor=function(){this.cursorFlash=!0,this.addCursor()},t.prototype.addCursor=function(){var e=this;clearTimeout(this.timeout),this.update(this.getCursor()),this.cursorFlash&&(this.timeout=setTimeout(function(){e.removeCursor()},this.CURSOR_SHOW_TIME))},t.prototype.removeCursor=function(){var e=this;clearTimeout(this.timeout),this.$(".cursor").remove(),this.cursorFlash&&(this.timeout=setTimeout(function(){e.addCursor()},this.CURSOR_HIDE_TIME))},t.prototype.getCursor=function(){return'<span class="cursor"> </span>'},t.prototype.stopInput=function(){this.cursorFlash=!1,this.removeCursor()},t.prototype.update=function(e){this.removeCursor(),this.$(".j-terminal-input")[0].innerHTML+=e},t.prototype.empty=function(){this.$(".j-terminal-input").empty()},t}(n);return r}),define("Terminal/Terminal.html",["require","exports"],function(e,t){function n(){return'<div class="terminal-container">    <pre class="j-terminal-input terminal-input">        TERMINAL MODE COMING SOON...    </pre></div>'}t.get=n}),define("Terminal/TerminalOutput",["require","exports"],function(e,t){var n=function(){function e(){this.charCount=0,this.lineCount=0}return e.prototype.setText=function(e){this.lines=e.split("\n")},e.prototype.getText=function(){var e;return _(this.lines).isUndefined()?e="":this.lineCount>=this.lines.length?this.lastOutput==="%STOP"?e="\n":e="%STOP":this.isCurrentLineInput()?e=this.getNextLetter():(e=this.getLine(),this.lineCount++),this.lastOutput=e,e},e.prototype.isCurrentLineInput=function(){var e=this.lines[this.lineCount];return e.charAt(0)==="%"},e.prototype.getLine=function(){return this.lines[this.lineCount]+"\n"},e.prototype.getNextLetter=function(){var e=this.lines[this.lineCount],t=e.charAt(this.charCount);return this.charCount>e.length?(t="%START",this.gotoNextLine()):(this.charCount===e.length?t="\n":this.charCount===0&&(t="%STOP"),this.charCount++),t},e.prototype.gotoNextLine=function(){this.lineCount++,this.charCount=0},e}();return n}),define("Terminal/TerminalFactory",["require","exports","Terminal/TerminalPresenter","Terminal/TerminalView","Terminal/Terminal.html","Terminal/TerminalOutput","system/Loader"],function(e,t,n,r,i,s,o){var u=function(){function e(){}return e.create=function(){return typeof e.instance=="undefined"&&(e.instance=new e),e.instance},e.prototype.createTerminalView=function(){var e=i.get();return new r(e)},e.prototype.createTerminalPresenter=function(){var e=new s,t=new n(e),r=new o;return r.addListener("load",function(n){e.setText(n),t.start()}),r.load("static/terminal.txt"),t},e}();return u}),define("Terminal/TerminalBuilder",["require","exports","Terminal/TerminalFactory"],function(e,t,n){var r=function(){function e(){this.terminalFactory=n.create()}return e.create=function(){return typeof e.instance=="undefined"&&(e.instance=new e),e.instance},e.prototype.build=function(){var e=this.terminalFactory.createTerminalPresenter(),t=this.terminalFactory.createTerminalView();return e.attachView(t),{view:t,presenter:e}},e}();return r}),define("App",["require","exports","Editor/EditorBuilder","Terminal/TerminalBuilder"],function(e,t,n,r){var i=function(){function e(){this.mode="editor",this.builder=n.create()}return e.prototype.init=function(e){this.applicationView=e,this.loadEditor()},e.prototype.keydown=function(e){switch(e){case 116:this.loadEditor();break;case 117:this.toggleMode();break;case 27:this.applicationView.toggleSplash();break;default:this.presenter.update(e)}},e.prototype.loadEditor=function(){var e=this.builder.build();this.presenter=e.presenter,this.applicationView.attachMainView(e.view),this.presenter.update(8)},e.prototype.toggleMode=function(){this.mode==="editor"?(this.mode="terminal",this.builder=r.create()):(this.mode="editor",this.builder=n.create()),this.loadEditor()},e.prototype.displayFaceLocationMode=function(){},e}();return i}),define("Bootstrap",["require","exports","AppView","App"],function(e,t,n,r){var i=function(){function e(){this.initApplication()}return e.prototype.initApplication=function(){var e=this,t=new n("body"),i=new r;i.init(t),$(document).keydown(function(t){return i.keydown(t.which),t.which!==122?e.preventDefaults(t):!0})},e.prototype.preventDefaults=function(e){return e.preventDefault&&e.preventDefault(),!1},e}();return i}),require(["Bootstrap"],function(e){new e}),define("main",function(){});